# üîß –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –±—ã–ª–∞ —É–ø—Ä–æ—â–µ–Ω–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - **—É–±—Ä–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞**, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ **–ø—Ä–æ—Å—Ç–æ–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞** –ø—Ä—è–º–æ –≤ —Å–∞–º —É–º–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –£–¥–∞–ª–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚ùå `MultilingualOptimizer` - –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å —è–∑—ã–∫–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚ùå `demo_multilingual_filter.py` - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏
- ‚ùå `demo_integrated_multilingual.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–æ–π
- ‚ùå `MULTILINGUAL_SUMMARY.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏

### 2. –£–ø—Ä–æ—â–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞:
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ—Å—Ç—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä—è–º–æ –≤ `DecisionLogic`:

```python
self.language_patterns = {
    'ukrainian': {
        'chars': r'[—ñ—ó—î“ë–Ü–á–Ñ“ê]',  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã
        'words': ['—Ç–æ–≤', '—ñ–Ω–Ω', '—î–¥—Ä–ø–æ—É', '–∫–∏—ó–≤', '–≤—É–ª', '–±—É–¥'],
        'weight': 1.2  # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è —É–∫—Ä–∞–∏–Ω—Å–∫–æ–≥–æ
    },
    'russian': {
        'chars': r'[—ã—ç—ä—ë–´–≠–™–Å]',  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã  
        'words': ['–æ–æ–æ', '–∑–∞–æ', '–∏–Ω–Ω', '–æ–≥—Ä–Ω', '–º–æ—Å–∫–≤–∞', '—É–ª', '–¥–æ–º'],
        'weight': 1.1  # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ
    },
    'english': {
        'chars': r'[a-zA-Z]',  # –õ–∞—Ç–∏–Ω–∏—Ü–∞
        'words': ['llc', 'inc', 'corp', 'bank', 'street', 'avenue'],
        'weight': 1.0  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    }
}
```

### 3. –í—Å—Ç—Ä–æ–µ–Ω–∞ —è–∑—ã–∫–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- **–ú–µ—Ç–æ–¥ `_detect_language_simple()`** - –±—ã—Å—Ç—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
- **–ú–µ—Ç–æ–¥ `_collect_all_signals_optimized()`** - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤—ã—Ö –±–æ–Ω—É—Å–æ–≤
- **–Ø–∑—ã–∫–æ–≤—ã–µ –≤–µ—Å–∞**: —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π (1.2x), —Ä—É—Å—Å–∫–∏–π (1.1x), –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (1.0x)

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (demo_smart_filter.py):
```
‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π:
  ‚Ä¢ full_search: 14.3%
  ‚Ä¢ manual_review: 35.7%
  ‚Ä¢ allow: 35.7%
  ‚Ä¢ block: 14.3%
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 0.0 –º—Å
```

### –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (demo_simplified_smart_filter.py):
```
‚úÖ –•–û–†–û–®–ê–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π:
  ‚Ä¢ MANUAL_REVIEW: 66.7%
  ‚Ä¢ ALLOW: 33.3%
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 0.2 –º—Å

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —è–∑—ã–∫–∞–º:
  ‚Ä¢ ukrainian: 50.0%
  ‚Ä¢ russian: 33.3%
  ‚Ä¢ english: 16.7%
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–ù–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ 0.2 –º—Å
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - –≤—Å–µ –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ
- **–õ–µ–≥–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –ø—Ä–æ—Å—Ç—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–§–æ–∫—É—Å –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –ø–ª–∞—Ç–µ–∂–µ–π** - —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- **–Ø–∑—ã–∫–æ–≤—ã–µ –±–æ–Ω—É—Å—ã** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞** –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ–π –ª–æ–≥–∏–∫–∏ —É–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞**

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
DecisionLogic
‚îú‚îÄ‚îÄ _detect_language_simple()        # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
‚îú‚îÄ‚îÄ _collect_all_signals_optimized() # –°–±–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤ —Å —è–∑—ã–∫–æ–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ make_decision()                  # –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π
‚îî‚îÄ‚îÄ –î–µ—Ç–µ–∫—Ç–æ—Ä—ã:
    ‚îú‚îÄ‚îÄ NameDetector        # + —è–∑—ã–∫–æ–≤—ã–µ –±–æ–Ω—É—Å—ã –¥–ª—è —Å–ª–∞–≤—è–Ω—Å–∫–∏—Ö —Ñ–∞–º–∏–ª–∏–π
    ‚îú‚îÄ‚îÄ CompanyDetector     # + –±–æ–Ω—É—Å—ã –¥–ª—è –û–ü–§ (–¢–û–í/–û–û–û/LLC)
    ‚îú‚îÄ‚îÄ DocumentDetector    # + –±–æ–Ω—É—Å—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ü–ù–ù/–ò–ù–ù/TIN)
    ‚îî‚îÄ‚îÄ TerrorismDetector   # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
```

## üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
# –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ API!
from ai_service.services.smart_filter.decision_logic import DecisionLogic

decision_logic = DecisionLogic()

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
result = decision_logic.make_decision("–ü–ª–∞—Ç—ñ–∂ –¥–ª—è –ö–æ–≤–∞–ª–µ–Ω–∫–æ –¢–û–í –Ü–ù–ù 1234567890")

print(f"–†–µ—à–µ–Ω–∏–µ: {result.decision.value}")           # FULL_SEARCH
print(f"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {result.confidence:.2f}")       # 0.45 (—Å —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º –±–æ–Ω—É—Å–æ–º)
print(f"–Ø–∑—ã–∫: {result.detected_signals['names']['language_info']['detected_language']}")  # ukrainian
```

## üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ —è–∑—ã–∫–∞–º

| –Ø–∑—ã–∫ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ | –ë–æ–Ω—É—Å | –¢–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è |
|------|---------------------|-------|---------------------|
| üá∫üá¶ –£–∫—Ä–∞–∏–Ω—Å–∫–∏–π | —ñ, —ó, —î, “ë + –¢–û–í, –Ü–ù–ù | +20% | **–û—Ç–ª–∏—á–Ω–∞—è** |
| üá∑üá∫ –†—É—Å—Å–∫–∏–π | —ã, —ç, —ä, —ë + –û–û–û, –ò–ù–ù | +10% | **–•–æ—Ä–æ—à–∞—è** |
| üá∫üá∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π | –õ–∞—Ç–∏–Ω–∏—Ü–∞ + LLC, TIN | –°—Ç–∞–Ω–¥–∞—Ä—Ç | **–•–æ—Ä–æ—à–∞—è** |

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:

- ‚úÖ **–£–±—Ä–∞–Ω–∞ –ª–∏—à–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–∞ —è–∑—ã–∫–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –ø—Ä—è–º–æ –≤ —Ñ–∏–ª—å—Ç—Ä
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –≤—Å–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä—ã –∏ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–æ—Å—Ç—ã–µ –∏ –±—ã—Å—Ç—Ä—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö!** üöÄ